{"version":3,"sources":["../../api/controllers/meals.js"],"names":["MealController","req","res","body","name","price","imageUrl","meal","Meal","add","status","json","message","fetchAll","meals","data","id","params","update","response","code","deleteById"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;IAEMA,c;;;;;;;;;;;;+CACuBC,G,EAAKC,G;;;;;;;4BACID,GAAG,CAACE,I,EAA9BC,I,aAAAA,I,EAAMC,K,aAAAA,K,EAAOC,Q,aAAAA,Q;AACfC,gBAAAA,I,GAAO,IAAIC,cAAJ,CAAS,IAAT,EAAeJ,IAAf,EAAqBC,KAArB,EAA4BC,QAA5B,C;;uBACPC,IAAI,CAACE,GAAL,E;;;iDACCP,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,kBAAAA,MAAM,EAAE,SADkB;AAE1BE,kBAAAA,OAAO,EAAE;AAFiB,iBAArB,C;;;;;;;;;;;;;;;;;;;;;gDAMmBX,G,EAAKC,G;;;;;;;uBACXM,eAAKK,QAAL,E;;;AAAdC,gBAAAA,K;kDACCZ,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,kBAAAA,MAAM,EAAE,SADkB;AAE1BE,kBAAAA,OAAO,EAAE,iBAFiB;AAG1BG,kBAAAA,IAAI,EAAED;AAHoB,iBAArB,C;;;;;;;;;;;;;;;;;;;;;gDAOqBb,G,EAAKC,G;;;;;;;;AAGvBc,gBAAAA,E,GAAOf,GAAG,CAACgB,M,CAAXD,E;6BAC0Bf,GAAG,CAACE,I,EAA9BC,I,cAAAA,I,EAAMC,K,cAAAA,K,EAAOC,Q,cAAAA,Q;AACfC,gBAAAA,I,GAAO,IAAIC,cAAJ,CAASQ,EAAT,EAAaZ,IAAb,EAAmBC,KAAnB,EAA0BC,QAA1B,C;;uBACPC,IAAI,CAACW,MAAL,E;;;AACNC,gBAAAA,QAAQ,GAAG;AACTC,kBAAAA,IAAI,EAAE,GADG;AAETjB,kBAAAA,IAAI,EAAE;AACJO,oBAAAA,MAAM,EAAE,SADJ;AAEJE,oBAAAA,OAAO,EAAE;AAFL;AAFG,iBAAX;;;;;;;AAQAO,gBAAAA,QAAQ,GAAG;AACTC,kBAAAA,IAAI,EAAE,GADG;AAETjB,kBAAAA,IAAI,EAAE;AACJO,oBAAAA,MAAM,EAAE,OADJ;AAEJE,oBAAAA,OAAO,EAAE;AAFL;AAFG,iBAAX;;;kDAQKV,GAAG,CAACQ,MAAJ,CAAWS,QAAQ,CAACC,IAApB,EAA0BT,IAA1B,CAA+BQ,QAAQ,CAAChB,IAAxC,C;;;;;;;;;;;;;;;;;;;;;gDAGqBF,G,EAAKC,G;;;;;;AACzBc,gBAAAA,E,GAAOf,GAAG,CAACgB,M,CAAXD,E;;uBACFR,eAAKa,UAAL,CAAgBL,EAAhB,C;;;kDACCd,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,kBAAAA,MAAM,EAAE,SADkB;AAE1BE,kBAAAA,OAAO,EAAE;AAFiB,iBAArB,C;;;;;;;;;;;;;;;;;;;;;eAOIZ,c","sourcesContent":["import Meal from '../models/meals';\r\n\r\nclass MealController {\r\n  static async addMealOption(req, res) {\r\n    const { name, price, imageUrl } = req.body;\r\n    const meal = new Meal(null, name, price, imageUrl);\r\n    await meal.add();\r\n    return res.status(201).json({\r\n      status: 'success',\r\n      message: 'Meal Option Added'\r\n    });\r\n  }\r\n\r\n  static async getMealOptions(req, res) {\r\n    const meals = await Meal.fetchAll();\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      message: 'Meals Retrieved',\r\n      data: meals\r\n    });\r\n  }\r\n\r\n  static async updateMealOption(req, res) {\r\n    let response;\r\n    try {\r\n      const { id } = req.params;\r\n      const { name, price, imageUrl } = req.body;\r\n      const meal = new Meal(id, name, price, imageUrl);\r\n      await meal.update();\r\n      response = {\r\n        code: 200,\r\n        body: {\r\n          status: 'success',\r\n          message: 'Meal Option Updated'\r\n        }\r\n      };\r\n    } catch (err) {\r\n      response = {\r\n        code: 500,\r\n        body: {\r\n          status: 'error',\r\n          message: 'Falied to Updated Meal'\r\n        }\r\n      };\r\n    }\r\n    return res.status(response.code).json(response.body);\r\n  }\r\n\r\n  static async deleteMealOption(req, res) {\r\n    const { id } = req.params;\r\n    await Meal.deleteById(id);\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      message: 'Meal Option Deleted'\r\n    });\r\n  }\r\n}\r\n\r\nexport default MealController;\r\n"],"file":"meals.js"}