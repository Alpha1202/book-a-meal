{"version":3,"sources":["../api/routes.js"],"names":["router","post","trimRequest","body","UserMiddleware","validateRegister","UserController","registerUser","validateLogin","loginUser","CatererMiddleware","CatererController","registerCaterer","loginCaterer","get","AuthController","checkForToken","verifyAdminToken","MealController","getMealOptions","MealMiddleware","validateAddMeal","addMealOption","put","validateUpdateMeal","updateMealOption","delete","deleteMealOption","verifyUserToken","MenuController","getMenus","getSingleMenu","validateAddMealToMenu","addMealToMenu","OrderController","getOrders","getOrderItems","OrderMiddleware","validateAddToOrder","addToOrders","validateModifyOrder","modifyOrder","validateOrdeCheckout","checkoutOrders"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,IAAP,CACE,cADF,EAEEC,qBAAYC,IAFd,EAGEC,cAAeC,gBAHjB,EAIEC,eAAeC,YAJjB;AAOAP,MAAM,CAACC,IAAP,CACE,aADF,EAEEC,qBAAYC,IAFd,EAGEC,cAAeI,aAHjB,EAIEF,eAAeG,SAJjB;AAOAT,MAAM,CAACC,IAAP,CACE,sBADF,EAEEC,qBAAYC,IAFd,EAGEO,iBAAkBL,gBAHpB,EAIEM,kBAAkBC,eAJpB;AAOAZ,MAAM,CAACC,IAAP,CACE,qBADF,EAEEC,qBAAYC,IAFd,EAGEO,iBAAkBF,aAHpB,EAIEG,kBAAkBE,YAJpB;AAOAb,MAAM,CAACc,GAAP,CACE,SADF,EAEEC,cAAeC,aAFjB,EAGED,cAAeE,gBAHjB,EAIEC,gBAAeC,cAJjB;AAOAnB,MAAM,CAACC,IAAP,CACE,SADF,EAEEC,qBAAYC,IAFd,EAGEY,cAAeC,aAHjB,EAIED,cAAeE,gBAJjB,EAKEG,eAAeC,eALjB,EAMEH,gBAAeI,aANjB;AASAtB,MAAM,CAACuB,GAAP,CACE,YADF,EAEErB,qBAAYC,IAFd,EAGEY,cAAeC,aAHjB,EAIED,cAAeE,gBAJjB,EAKEG,eAAeI,kBALjB,EAMEN,gBAAeO,gBANjB;AASAzB,MAAM,CAAC0B,MAAP,CACE,YADF,EAEEX,cAAeC,aAFjB,EAGED,cAAeE,gBAHjB,EAIEC,gBAAeS,gBAJjB;AAOA3B,MAAM,CAACc,GAAP,CACE,QADF,EAEEC,cAAeC,aAFjB,EAGED,cAAea,eAHjB,EAIEC,cAAeC,QAJjB;AAOA9B,MAAM,CAACc,GAAP,CACE,eADF,EAEEC,cAAeC,aAFjB,EAGED,cAAeE,gBAHjB,EAIEY,cAAeE,aAJjB;AAOA/B,MAAM,CAACC,IAAP,CACE,QADF,EAEEC,qBAAYC,IAFd,EAGEY,cAAeC,aAHjB,EAIED,cAAeE,gBAJjB,EAKEG,eAAeY,qBALjB,EAMEH,cAAeI,aANjB;AASAjC,MAAM,CAACc,GAAP,CACE,SADF,EAEEC,cAAeC,aAFjB,EAGED,cAAeE,gBAHjB,EAIEiB,gBAAgBC,SAJlB;AAOAnC,MAAM,CAACc,GAAP,CACE,cADF,EAEEC,cAAeC,aAFjB,EAGED,cAAea,eAHjB,EAIEM,gBAAgBE,aAJlB;AAOApC,MAAM,CAACC,IAAP,CACE,SADF,EAEEC,qBAAYC,IAFd,EAGEY,cAAeC,aAHjB,EAIED,cAAea,eAJjB,EAKES,eAAgBC,kBALlB,EAMEJ,gBAAgBK,WANlB;AASAvC,MAAM,CAACuB,GAAP,CACE,kBADF,EAEErB,qBAAYC,IAFd,EAGEY,cAAeC,aAHjB,EAIED,cAAea,eAJjB,EAKES,eAAgBG,mBALlB,EAMEN,gBAAgBO,WANlB;AASAzC,MAAM,CAACC,IAAP,CACE,kBADF,EAEEC,qBAAYC,IAFd,EAGEY,cAAeC,aAHjB,EAIED,cAAea,eAJjB,EAKES,eAAgBK,oBALlB,EAMER,gBAAgBS,cANlB;eASe3C,M","sourcesContent":["import { Router } from 'express';\r\nimport trimRequest from 'trim-request';\r\nimport UserMiddleware from './middleware/user';\r\nimport CatererMiddleware from './middleware/caterer';\r\nimport MealMiddleware from './middleware/meals';\r\nimport OrderMiddleware from './middleware/order';\r\nimport AuthController from './controllers/auth';\r\nimport MealController from './controllers/meals';\r\nimport MenuController from './controllers/menu';\r\nimport OrderController from './controllers/orders';\r\nimport UserController from './controllers/user';\r\nimport CatererController from './controllers/caterer';\r\n\r\nconst router = Router();\r\n\r\nrouter.post(\r\n  '/auth/signup',\r\n  trimRequest.body,\r\n  UserMiddleware.validateRegister,\r\n  UserController.registerUser\r\n);\r\n\r\nrouter.post(\r\n  '/auth/login',\r\n  trimRequest.body,\r\n  UserMiddleware.validateLogin,\r\n  UserController.loginUser\r\n);\r\n\r\nrouter.post(\r\n  '/auth/caterer/signup',\r\n  trimRequest.body,\r\n  CatererMiddleware.validateRegister,\r\n  CatererController.registerCaterer\r\n);\r\n\r\nrouter.post(\r\n  '/auth/caterer/login',\r\n  trimRequest.body,\r\n  CatererMiddleware.validateLogin,\r\n  CatererController.loginCaterer\r\n);\r\n\r\nrouter.get(\r\n  '/meals/',\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  MealController.getMealOptions\r\n);\r\n\r\nrouter.post(\r\n  '/meals/',\r\n  trimRequest.body,\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  MealMiddleware.validateAddMeal,\r\n  MealController.addMealOption\r\n);\r\n\r\nrouter.put(\r\n  '/meals/:id',\r\n  trimRequest.body,\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  MealMiddleware.validateUpdateMeal,\r\n  MealController.updateMealOption\r\n);\r\n\r\nrouter.delete(\r\n  '/meals/:id',\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  MealController.deleteMealOption\r\n);\r\n\r\nrouter.get(\r\n  '/menu/',\r\n  AuthController.checkForToken,\r\n  AuthController.verifyUserToken,\r\n  MenuController.getMenus\r\n);\r\n\r\nrouter.get(\r\n  '/menu/caterer',\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  MenuController.getSingleMenu\r\n);\r\n\r\nrouter.post(\r\n  '/menu/',\r\n  trimRequest.body,\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  MealMiddleware.validateAddMealToMenu,\r\n  MenuController.addMealToMenu\r\n);\r\n\r\nrouter.get(\r\n  '/orders',\r\n  AuthController.checkForToken,\r\n  AuthController.verifyAdminToken,\r\n  OrderController.getOrders\r\n);\r\n\r\nrouter.get(\r\n  '/orders/user',\r\n  AuthController.checkForToken,\r\n  AuthController.verifyUserToken,\r\n  OrderController.getOrderItems\r\n);\r\n\r\nrouter.post(\r\n  '/orders',\r\n  trimRequest.body,\r\n  AuthController.checkForToken,\r\n  AuthController.verifyUserToken,\r\n  OrderMiddleware.validateAddToOrder,\r\n  OrderController.addToOrders\r\n);\r\n\r\nrouter.put(\r\n  '/orders/:orderId',\r\n  trimRequest.body,\r\n  AuthController.checkForToken,\r\n  AuthController.verifyUserToken,\r\n  OrderMiddleware.validateModifyOrder,\r\n  OrderController.modifyOrder\r\n);\r\n\r\nrouter.post(\r\n  '/orders/checkout',\r\n  trimRequest.body,\r\n  AuthController.checkForToken,\r\n  AuthController.verifyUserToken,\r\n  OrderMiddleware.validateOrdeCheckout,\r\n  OrderController.checkoutOrders\r\n);\r\n\r\nexport default router;\r\n"],"file":"routes.js"}